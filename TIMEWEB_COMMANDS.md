# üéÆ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–æ—Ç–æ–º –Ω–∞ Timeweb - –ü–æ–ª–Ω–∞—è —à–ø–∞—Ä–≥–∞–ª–∫–∞

## üîê –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ü–æ IP (–±—ã—Å—Ç—Ä–µ–µ)

```bash
ssh root@109.196.98.222
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ó–∞–π—Ç–∏ –ø–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º videobot

```bash
# –°–Ω–∞—á–∞–ª–∞ –∑–∞–π–¥–∏—Ç–µ –ø–æ–¥ root, –∑–∞—Ç–µ–º:
su - videobot
```

---

## üìÇ –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –±–æ—Ç–∞

```bash
cd /home/videobot/videobot_new
```

---

## üöÄ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–æ—Ç–æ–º —á–µ—Ä–µ–∑ PM2

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–∞—Ç—É—Å –±–æ—Ç–∞
pm2 list

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ (–≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏)
pm2 logs videobot

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ 50 —Å—Ç—Ä–æ–∫ –ª–æ–≥–æ–≤
pm2 logs videobot --lines 50

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ª–æ–≥–∏ (Ctrl+C)

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞
pm2 restart videobot

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–æ—Ç–∞
pm2 stop videobot

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞ (–µ—Å–ª–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
pm2 start videobot

# –£–¥–∞–ª–∏—Ç—å –±–æ—Ç–∞ –∏–∑ PM2
pm2 delete videobot

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å–æ–≤ (CPU, –ø–∞–º—è—Ç—å)
pm2 monit
```

---

## ‚öôÔ∏è –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ (–µ—Å–ª–∏ —É–¥–∞–ª–∏–ª–∏ –∏–∑ PM2)

```bash
# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
cd /home/videobot/videobot_new

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —á–µ—Ä–µ–∑ PM2
pm2 start bot.py --name videobot --interpreter /home/videobot/videobot_new/venv/bin/python

# –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
pm2 save
```

---

## üîÑ –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ —Å–µ—Ä–≤–µ—Ä–∞

```bash
# –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫
pm2 startup

# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É –∫–æ—Ç–æ—Ä—É—é –≤—ã–¥–∞—Å—Ç PM2
# –ù–∞–ø—Ä–∏–º–µ—Ä: sudo env PATH=$PATH:/usr/bin pm2 startup systemd -u videobot --hp /home/videobot

# –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Å–ø–∏—Å–æ–∫ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
pm2 save
```

---

## üìù –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

```bash
# –õ–æ–≥–∏ PM2 (–≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏)
pm2 logs videobot

# –ü–æ—Å–ª–µ–¥–Ω–∏–µ 100 —Å—Ç—Ä–æ–∫
pm2 logs videobot --lines 100 --nostream

# –¢–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏
pm2 logs videobot --err

# –û—á–∏—Å—Ç–∏—Ç—å –ª–æ–≥–∏
pm2 flush videobot
```

---

## üîß –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞ –±–æ—Ç–∞

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ git (–µ—Å–ª–∏ –∫–æ–¥ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏)

```bash
# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
cd /home/videobot/videobot_new

# –ü–æ–ª—É—á–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
git pull

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞
pm2 restart videobot

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
pm2 logs videobot --lines 20
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª –≤—Ä—É—á–Ω—É—é

```bash
# –ù–∞ —Å–≤–æ—ë–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ (PowerShell):
scp bot.py root@109.196.98.222:/home/videobot/videobot_new/

# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:
pm2 restart videobot
```

---

## üõ†Ô∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

```bash
# –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å bot.py
nano /home/videobot/videobot_new/bot.py
# Ctrl+X –¥–ª—è –≤—ã—Ö–æ–¥–∞, Y –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è, Enter

# –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å .env (—Ç–æ–∫–µ–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏)
nano /home/videobot/videobot_new/.env

# –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å config.py
nano /home/videobot/videobot_new/config.py

# –ü–æ—Å–ª–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ:
pm2 restart videobot
```

---

## üßπ –û—á–∏—Å—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

```bash
# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
cd /home/videobot/videobot_new

# –û—á–∏—Å—Ç–∏—Ç–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –≤–∏–¥–µ–æ
rm -rf temp/*
rm -rf output/*

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–º–µ—Ä
du -sh temp/ output/

# –û—á–∏—Å—Ç–∫–∞ –ª–æ–≥–æ–≤ PM2
pm2 flush videobot
```

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–µ—Ä–≤–µ—Ä–∞

```bash
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
free -h

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞
df -h

# –ù–∞–≥—Ä—É–∑–∫–∞ CPU –∏ –ø—Ä–æ—Ü–µ—Å—Å—ã (–Ω–∞–∂–º–∏—Ç–µ q –¥–ª—è –≤—ã—Ö–æ–¥–∞)
htop

# –¢–æ–ª—å–∫–æ –ø—Ä–æ—Ü–µ—Å—Å—ã –±–æ—Ç–∞
ps aux | grep bot.py

# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–∏—Å—Ç–µ–º–µ
uname -a

# Uptime —Å–µ—Ä–≤–µ—Ä–∞
uptime
```

---

## üÜò –≠–∫—Å—Ç—Ä–µ–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ë–æ—Ç –∑–∞–≤–∏—Å –∏ –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç

```bash
# –ñ–µ—Å—Ç–∫–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞
pm2 delete videobot
pkill -9 -f bot.py

# –û—á–∏—Å—Ç–∫–∞
cd /home/videobot/videobot_new
rm -rf temp/* output/*

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
pm2 start bot.py --name videobot --interpreter /home/videobot/videobot_new/venv/bin/python
pm2 save
```

### –ó–∞–∫–æ–Ω—á–∏–ª–∞—Å—å –ø–∞–º—è—Ç—å

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞
free -h

# –û—á–∏—Å—Ç–∫–∞
rm -rf /home/videobot/videobot_new/temp/*
rm -rf /home/videobot/videobot_new/output/*

# –£–º–µ–Ω—å—à–∏—Ç–µ —Å–µ–º–∞—Ñ–æ—Ä –≤ bot.py (—Å—Ç—Ä–æ–∫–∞ 33)
nano /home/videobot/videobot_new/bot.py
# –ù–∞–π–¥–∏—Ç–µ: self.processing_semaphore = asyncio.Semaphore(10)
# –ò–∑–º–µ–Ω–∏—Ç–µ –Ω–∞: self.processing_semaphore = asyncio.Semaphore(2)

pm2 restart videobot
```

### –ó–∞–∫–æ–Ω—á–∏–ª–æ—Å—å –º–µ—Å—Ç–æ –Ω–∞ –¥–∏—Å–∫–µ

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–µ—Å—Ç–∞
df -h

# –û—á–∏—Å—Ç–∫–∞ –ª–æ–≥–æ–≤ —Å–∏—Å—Ç–µ–º—ã
journalctl --vacuum-time=3d

# –û—á–∏—Å—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
rm -rf /tmp/*
rm -rf /home/videobot/videobot_new/temp/*
rm -rf /home/videobot/videobot_new/output/*

# –ù–∞–π—Ç–∏ –±–æ–ª—å—à–∏–µ —Ñ–∞–π–ª—ã
du -h /home/videobot/videobot_new | sort -rh | head -20
```

---

## üîÑ –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

```bash
# –ú—è–≥–∫–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞
sudo reboot

# –ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ PM2 –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å—Ç–∏—Ç –±–æ—Ç–∞ (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω startup)
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á–µ—Ä–µ–∑ 1-2 –º–∏–Ω—É—Ç—ã:
pm2 list
```

---

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞/–ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
cd /home/videobot/videobot_new

# –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
source venv/bin/activate

# –û–±–Ω–æ–≤–∏—Ç–µ pip
pip install --upgrade pip

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
pip list

# –î–µ–∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ venv
deactivate

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞
pm2 restart videobot
```

---

## üêõ –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º

### –ü–æ–ª–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π

```bash
echo "=== –°–¢–ê–¢–£–° –ë–û–¢–ê ===" && pm2 list && echo "" && echo "=== –ü–û–°–õ–ï–î–ù–ò–ï –õ–û–ì–ò ===" && pm2 logs videobot --lines 30 --nostream && echo "" && echo "=== –†–ï–°–£–†–°–´ ===" && free -h && df -h / && echo "" && echo "=== PYTHON ===" && python3 --version && echo "" && echo "=== FFMPEG ===" && ffmpeg -version 2>/dev/null | head -1
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ .env —Ñ–∞–π–ª–∞ (–µ—Å—Ç—å –ª–∏ —Ç–æ–∫–µ–Ω)
cat /home/videobot/videobot_new/.env

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π Python
source /home/videobot/videobot_new/venv/bin/activate && pip list | grep -E "telegram|moviepy|opencv" && deactivate

# –ü—Ä–æ–≤–µ—Ä–∫–∞ ffmpeg (–∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤–∏–¥–µ–æ!)
ffmpeg -version

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
ls -lah /home/videobot/videobot_new/temp/
ls -lah /home/videobot/videobot_new/output/
```

---

## üì± –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–æ—Ç–∞ –≤ Telegram

1. –û—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞ –≤ Telegram
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/start`
3. –î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ

–ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
pm2 logs videobot --lines 50

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –±–æ—Ç online
pm2 list

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ
pm2 restart videobot
```

---

## ‚ö° –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã (—à–ø–∞—Ä–≥–∞–ª–∫–∞)

| –î–µ–π—Å—Ç–≤–∏–µ               | –ö–æ–º–∞–Ω–¥–∞                            |
| ---------------------- | ---------------------------------- |
| –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É | `ssh root@109.196.98.222`          |
| –ü–µ—Ä–µ–π—Ç–∏ –≤ –ø–∞–ø–∫—É –±–æ—Ç–∞   | `cd /home/videobot/videobot_new`   |
| –°—Ç–∞—Ç—É—Å –±–æ—Ç–∞            | `pm2 list`                         |
| –õ–æ–≥–∏ –±–æ—Ç–∞              | `pm2 logs videobot`                |
| –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫             | `pm2 restart videobot`             |
| –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å             | `pm2 stop videobot`                |
| –ó–∞–ø—É—Å—Ç–∏—Ç—å              | `pm2 start videobot`               |
| –û—á–∏—Å—Ç–∏—Ç—å temp          | `rm -rf temp/* output/*`           |
| –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥      | `nano bot.py`                      |
| –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–∞–º—è—Ç—å       | `free -h`                          |
| –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–∏—Å–∫         | `df -h`                            |
| –û–±–Ω–æ–≤–∏—Ç—å –∏–∑ git        | `git pull && pm2 restart videobot` |

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Timeweb

- **–°–∞–π—Ç:** https://timeweb.cloud/
- **Email:** support@timeweb.ru
- **–¢–µ–ª–µ—Ñ–æ–Ω:** 8 800 201-49-23
- **–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:** https://timeweb.cloud/my/servers

---

## ‚úÖ –§–∏–Ω–∞–ª—å–Ω—ã–π —á–µ–∫–ª–∏—Å—Ç

- [‚úÖ] –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω —á–µ—Ä–µ–∑ PM2
- [‚úÖ] PM2 —Å–æ—Ö—Ä–∞–Ω—ë–Ω: `pm2 save`
- [‚úÖ] –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –Ω–∞—Å—Ç—Ä–æ–µ–Ω: `pm2 startup`
- [‚úÖ] –ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –≤ Telegram
- [‚úÖ] –õ–æ–≥–∏ —á–∏—Å—Ç—ã–µ, –±–µ–∑ –æ—à–∏–±–æ–∫: `pm2 logs videobot`

---

**üéâ –ë–û–¢ –†–ê–ë–û–¢–ê–ï–¢!**

–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —ç—Ç–æ—Ç —Ñ–∞–π–ª - –≤ –Ω—ë–º –í–°–Å —á—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–æ—Ç–æ–º! üìö
